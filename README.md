# ğŸ¤– AI Robo-Advisor

AI-powered portfolio optimization system that combines large language models (LLMs) with modern portfolio theory to build personalized investment strategies.

## ğŸ¯ Features

- Core strategies: Conservative (Min Risk), Aggressive (Max Return), Balanced (Max Sharpe)
- Additional strategies: Equal Weight, Buy & Hold (static), ERC, Robust Meanâ€“Variance, Leveraged Max Sharpe
- LLM-powered chat interface on top of precomputed portfolios (no in-UI recomputation)
- Interactive visuals: risk/return scatter with efficient frontier
- Tunable constraints: risk-free rate, max weight per asset, asset inclusion/exclusion
- Uses locally stored historical prices downloaded from Yahoo Finance

## ğŸ“‹ Requirements

- Python 3.8+
- OpenAI API key
- Internet connection (only for running `download_data.py`)

## ğŸš€ Installation

1) **Clone**
```bash
git clone https://github.com/kuksa-serhii/AI-Robo-Advisor.git
cd AI-Robo-Advisor
```

2) **Create and activate a virtual environment** (Windows PowerShell example)
```bash
python -m venv .venv
Set-ExecutionPolicy -Scope Process -ExecutionPolicy Bypass  # allow script execution for this session
./.venv/Scripts/Activate.ps1
```

3) **Install dependencies**
```bash
pip install -r requirements.txt
```

4) **Configure environment variables**
```bash
copy .env.example .env   # on Windows (or: cp .env.example .env on macOS/Linux)
```
Edit `.env` and set your key:
```
OPENAI_API_KEY=your_actual_api_key_here
```

5) **(Optional) Refresh market data `config.py`**

This downloads Yahoo Finance data for tickers in `ASSETS` (see `config.py`) between `START` and `END`, then writes:
- `universe_<START>__<END>.csv`
- `prices_<START>__<END>.csv`

## ğŸ® Usage

Run the Streamlit app:
```bash
streamlit run app.py
```
The app opens at `http://localhost:8501`.

- Select assets in the sidebar
- Adjust risk-free rate and max weight
- Ask for a portfolio (e.g., "Calculate portfolios for 15,000 dollars without HYG and GLD")
- Switch to "Explain current results" to ask follow-up questions without recalculation

## ğŸ—ï¸ Project Structure

```
AI-Robo-Advisor/
â”œâ”€â”€ app.py                  # Streamlit UI and chat workflow
â”œâ”€â”€ agent.py                # LLM prompts for parsing & explanations
â”œâ”€â”€ config.py               # Global settings, tickers, date range, file paths
â”œâ”€â”€ data_layer.py           # Loads CSV data, computes returns/covariance
â”œâ”€â”€ optimization_core.py    # CVXPY-based optimizers + efficient frontier
â”œâ”€â”€ portfolio_tool.py       # Orchestrates portfolio builds and formatting
â”œâ”€â”€ strategies.py           # Additional strategies (ERC, robust, leveraged, etc.)
â”œâ”€â”€ ui_components.py        # Tables and charts rendering
â”œâ”€â”€ download_data.py        # Yahoo Finance fetcher for prices/universe CSVs
â”œâ”€â”€ test_setup.py           # Lightweight dependency & env sanity checks
â”œâ”€â”€ requirements.txt        # Python dependencies
â”œâ”€â”€ .env.example            # Environment template
â””â”€â”€ README.md               # This file
```

## ğŸ”§ Configuration

Edit `config.py` to change:
- `RISK_FREE_RATE`, `W_MAX`
- `START`, `END`, `ASSETS` (controls data download and file names)
- `UNIVERSE_CSV_PATH`, `PRICES_CSV_PATH` (generated by `download_data.py`)

## ğŸ“ˆ Strategies

- **Conservative (Min Risk)**: minimizes variance under weight caps
- **Aggressive (Max Return)**: maximizes expected return
- **Balanced (Max Sharpe)**: grid search for best Sharpe
- **Equal Weight**: 1/N allocation
- **Buy & Hold (static)**: equal-weight approximation
- **Equal Risk Contributions (ERC)**: risk-parity style allocation
- **Robust Meanâ€“Variance**: covariance regularization
- **Leveraged Max Sharpe**: 2x leverage approximation of Max Sharpe

## ğŸ›¡ï¸ Security

- Do **not** commit your `.env`
- Rotate your OpenAI key if it is ever exposed

## ğŸ§ª Quick checks

```bash
python test_setup.py
```
Verifies dependencies, `.env`, data files, and imports.

## âš ï¸ Disclaimer

For educational and research purposes only. This is not financial advice. Past performance is not indicative of future results.

## ğŸ“§ Contact

- Author: Serhii Kuksa
- GitHub: [@kuksa-serhii](https://github.com/kuksa-serhii)
- Repository: [AI-Robo-Advisor](https://github.com/kuksa-serhii/AI-Robo-Advisor)

## ğŸ™ Acknowledgments

- Modern Portfolio Theory (Markowitz)
- OpenAI (GPT models)
- Streamlit
- CVXPY
- Yahoo Finance data

**Built with â¤ï¸ using Python, Streamlit, and OpenAI**

DEFAULT Asset Universe and Data Selection
Asset Universe Definition
In this project, a diversified investment asset universe was constructed using exchange-traded funds (ETFs) that represent the major global asset classes. The universe includes instruments from the following categories:

Equities (U.S. and Global Stocks)
SPY â€“ U.S. large-cap equities (S&P 500)
VTI â€“ Total U.S. stock market
QQQ â€“ U.S. technology and growth stocks (Nasdaq-100)
IWM â€“ U.S. small-cap stocks (Russell 2000)
VT â€“ Global equity market
EFA â€“ Developed markets outside the U.S.
EEM â€“ Emerging markets equities
XLV â€“ U.S. healthcare sector
XLF â€“ U.S. financial sector
XLY â€“ U.S. consumer discretionary sector
Real Assets and Alternatives
VNQ â€“ U.S. real estate investment trusts (REITs)
GLD â€“ Gold ETF as a defensive asset
Fixed Income (Bonds)
AGG â€“ U.S. aggregate bond market
BND â€“ Broad U.S. bond market
TLT â€“ Long-term U.S. Treasury bonds
LQD â€“ Investment-grade corporate bonds
HYG â€“ High-yield corporate bonds
TIP â€“ Treasury Inflation-Protected Securities (TIPS)
BNDX â€“ International bonds (USD-hedged)
Cash-like Instruments
SHY â€“ Short-term U.S. Treasury bonds (1â€“3 years)
Due to data availability constraints in the execution environment, the final implemented asset universe consists of the subset of assets for which sufficient historical data was successfully retrieved.

Rationale for Asset Universe Selection
The asset universe was designed to support the construction of a balanced investment portfolio and was selected based on the following key principles:

1. Coverage of All Major Asset Classes
The universe includes equities, bonds, real estate, commodities (gold), and short-duration Treasury instruments. This allows the robo-advisor to construct portfolios with controlled risk exposure rather than focusing only on equities.

2. Geographic Diversification
The portfolio includes U.S., developed international, emerging market, and global equity exposures. This reduces country-specific risk and increases portfolio stability.

3. Sector Diversification
Sector-specific ETFs (healthcare, financials, consumer discretionary) enable exposure to different parts of the economic cycle and allow for sector-based portfolio adjustments.

4. Bond Risk Structure
The fixed income segment includes short-duration, long-duration, inflation-protected, investment-grade, high-yield, and international bonds. This enables effective management of both interest rate and credit risk.

5. High Liquidity and Real-World Accessibility
All selected instruments are highly liquid ETFs traded on major U.S. exchanges and are accessible to retail investors. This ensures that the robo-advisor reflects realistic market conditions.

Historical Data Period Selection
The historical price data was collected over the following period:

January 2015 â€“ Current Date (2025)
This corresponds to approximately 10 years of daily market data.

Reasons for Selecting This Time Horizon
Multiple Market Cycles
The selected period includes several key market regimes:
2015â€“2016: post-crisis volatility
2018: equity market correction
2020: COVID-19 market crash
2022: inflation and interest rate shock
2023â€“2025: post-crisis recovery and AI-driven growth
This ensures that asset behavior is evaluated under diverse market conditions.

Sufficient Data for Risk Estimation
A 10-year daily dataset provides statistically robust inputs for estimating:
expected returns
volatility
covariance matrix
Sharpe ratio
drawdowns
Relevance to Modern Market Structure
Data prior to 2010 reflects a different macroeconomic regime and ETF market structure. The 2015â€“2025 period provides a better balance between data depth and modern market relevance.
Data Source and Processing
Historical adjusted price data for all assets was obtained from Yahoo Finance during the data preparation stage and stored locally as CSV files. All subsequent portfolio optimization, backtesting, and rebalancing procedures are performed exclusively using the locally stored dataset to ensure full reproducibility and independence from external data sources.
